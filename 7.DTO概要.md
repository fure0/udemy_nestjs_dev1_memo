## DTOとは (Data Transfer Object)

- データの受け渡しに使われるオブジェクト
- NestJS特有の機能というわけではなく、ソフトウェア開発において広く使われている

### ex
- データベースとモデルクラス間のデータのやり取り
- リクエストオブジェクトからのデータ受け取り

## DTOを使うメリット

1. メンテナンス性が高まる
- データの内容や型などが変更になった場合でも、修正箇所をDTO内に閉じ込めることができる

2. 安全性が高まる
- やりとりするデータをDTOの型に制限することができるので、誤った(あやまった)データが扱われるリスクが減る

3. NestJSのバリデーション機能が使える
- 型チェックだけではなく複雑なバリデーションも可能


## DTOを使わない場合
```typescript
@Post()
  create(
    @Body('id') id: string,
    @Body('name') name: string,
    @Body('price') price: number,
    @Body('description') description: string,
  ): Item {
    const item: Item = {
      id,
      name,
      price,
      description,
      status: 'ON_SALE',
    };
    return this.itemsService.create(item);
  }
```

## DTOを使う場合
```typescript
@Post()
async create(
  @Body() createItemDto: CreateItemDto,
  @Request() req: ExpressRequest & { user: RequestUser },
): Promise<Item> {
  return await this.itemsService.create(createItemDto, req.user.id);
}
```
## DTO
```typescript
export class CreateItemDto {
  @IsString()
  @IsNotEmpty()
  @MaxLength(40)
  name: string;

  @IsInt()
  @Min(1)
  price: number;

  @IsOptional()
  @IsString()
  @MaxLength(1000)
  description?: string;
}
```